<div class="container" >
    <ul class="nav nav-tabs" id="account-tab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="detail-tab" data-toggle="tab" href="#detail" role="tab" aria-controls="detail" aria-selected="true">Account</a>
        </li>
        <li class="nav-item" ng-if="currentUser.admin">
          <a class="nav-link" id="calendar-tab" data-toggle="tab" href="#calendar" role="tab" aria-controls="calendar" aria-selected="false">Manage Events</a>
        </li>
        <li ng-controller="adminController" class="nav-item" ng-if="currentUser.admin">
            <a class="nav-link" id="users-tab" data-toggle="tab" href="#users" ng-click="loadUsers()" role="tab" aria-controls="users" aria-selected="false">Manage Users</a>
        </li>
      </ul>


      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="detail" role="tabpanel" aria-labelledby="detail-tab">
          <div class="container"> 
              <h3>Account details</h3>
              <hr>
            <button type="button" ng-click="canEdit = !canEdit" class="btn btn-primary edit-btn">Edit Info</button>
            <form ng-controller="authController"  ng-submit="update()">
            <label id="name-label" for="name">Name</label>
            <input ng-model="updatedUser.name" ng-readonly="!canEdit" class="form-control form-control-lg" id="name" type="text" placeholder="{{currentUser.name}}">
            
            <label for="email">Email</label>
            <input ng-model="updatedUser.email" ng-readonly="!canEdit" class="form-control form-control-lg" id="email" type="text" placeholder="{{currentUser.email}}">
            
            <label for="organization">Organization</label>
            <input ng-model="updatedUser.organization" ng-readonly="!canEdit" class="form-control form-control-lg mb-3" id="organization" type="text" placeholder="{{currentUser.organization}}">
            <button type="submit" ng-show="canEdit" class="btn btn-success mb-3">Update Account</button>
          </form>

            <h3>Change password</h3>
            <hr>
            <form  class="form-inline" ng-controller="authController" ng-submit="changePsw()">
              <input required ng-model="updatedUser.oldPassword" class="form-control form-control-lg" id="currentpsw" type="password" placeholder="Current password">
              <div class="mx-4"></div>
              <input required ng-model="updatedUser.newPassword" class="form-control form-control-lg" id="newpsw" type="password" placeholder="New password">
              <div class="mx-4"></div>
              <button class="btn btn-success btn-lg" type="submit">Change password</button>
            </form>
          </div>
        </div>


        <!-- NOTHING CAN GO HERE BETWEEN TABS -->


        <div class="tab-pane fade" id="calendar" role="tabpanel" aria-labelledby="calendar-tab" ng-if="currentUser.admin">
            <h1>Calendar Requests</h1>
            <div class="row justify-content-center">
                <div class="input-group table-row">
                    <input class="form-control py-2 border-right-0 border" type="search" placeholder="search" id="example-search-input">
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0 border" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                      </span>
                </div>
              </div>  
            <div class="row justify-content-center" ng-controller="calController">
                  <div class="tableWrapper table-row">
                    <table class="table table-hover">
                      <tr>
                        <th>Request</th>
                        <th>Approve</th>
                        <th>Deny</th>
                      </tr>
                      <!-- CAN MAKE THIS AN NG-REPEAT -->
                      <tr ng-repeat="eventReq in eventReqs | filter : query" class ="tbl-dropdown">
                        <td>{{eventReq.title}}
                            <ul class="list-group">
                                <li class="list-group-item">{{eventReq.description}}</li>
                                <li class="list-group-item">{{eventReq.date}}</li>
                                <li class="list-group-item">Start Time: {{eventReq.startTime}}<hr> End Time: {{eventReq.endTime}}</li>
                            </ul>    
                        </td>
                        <td ng-click="acceptEvent(eventReq._id); deleteEvent(eventReq._id)"><i class="fas fa-check fa-2x"></i></td>
                        <td ng-click="deleteEvent(eventReq._id)"><i class="fas fa-times fa-2x"></i></td>
                      </tr>
                    </table>
                  </div>
              </div>
        </div>

<!-- NOTHING CAN GO HERE BETWEEN TABS -->
<div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab" ng-if="currentUser.admin">
<ui-view></ui-view>   
</div>      
    </div>
</div>
