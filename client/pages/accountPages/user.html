<div ng-controller="adminController">
  
    
  <div class="container" >
    <ul class="nav nav-tabs" id="account-tab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="detail-tab" data-toggle="tab" href="#detail" role="tab" aria-controls="detail" aria-selected="true">Account Details</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="calendar-tab" data-toggle="tab" href="#calendar" role="tab" aria-controls="calendar" aria-selected="false">Manage Events</a>
        </li>
        <li class="nav-item" ng-if="currentUser.admin">
            <a class="nav-link" id="users-tab" data-toggle="tab" href="#users" role="tab" aria-controls="users" aria-selected="false">Manage Users</a>
        </li>
      </ul>



      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="detail" role="tabpanel" aria-labelledby="detail-tab">
          <h1>{{currentUser.name}}</h1>
          <h2>{{currentUser.email}}</h2>
        </div>


        <!-- NOTHING CAN GO HERE BETWEEN TABS -->


        <div class="tab-pane fade" id="calendar" role="tabpanel" aria-labelledby="calendar-tab">
            <h1>Calendar Requests</h1>
            <div class="row justify-content-center">
                <div class="input-group table-row">
                    <input class="form-control py-2 border-right-0 border" type="search" placeholder="search" id="example-search-input">
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0 border" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                      </span>
                </div>
              </div>  
            <div class="row justify-content-center" ng-controller="calController">
                  <div class="tableWrapper table-row">
                    <table class="table table-hover">
                      <tr>
                        <th>Request</th>
                        <th>Approve</th>
                        <th>Deny</th>
                      </tr>
                      <!-- CAN MAKE THIS AN NG-REPEAT -->
                      <tr ng-repeat="eventReq in eventReqs | filter : query" class ="tbl-dropdown">
                        <td>{{eventReq.title}}
                            <ul class="list-group">
                                <li class="list-group-item">{{eventReq.description}}</li>
                                <li class="list-group-item">{{eventReq.date}}</li>
                                <li class="list-group-item">Start Time: {{eventReq.startTime}}<hr> End Time: {{eventReq.endTime}}</li>
                            </ul>    
                        </td>
                        <td ng-click="deleteEvent(eventReq._id)"><i class="fas fa-check fa-2x"></i></td>
                        <td ng-click="deleteEvent(eventReq._id)"><i class="fas fa-times fa-2x"></i></td>
                      </tr>
                    </table>
                  </div>
              </div>
        </div>

<!-- NOTHING CAN GO HERE BETWEEN TABS -->

        <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="users-tab" ng-if="currentUser.admin">
            <h1>User Information</h1>  
            <div class="d-flex flex-column">
              <div class="row justify-content-center">
                <div class="input-group table-row">
                    <input class="form-control py-2 border-right-0 border" type="search" placeholder="search" id="example-search-input">
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary border-left-0 border" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                      </span>
                </div>
              </div>   
              <div class="row justify-content-center">        
                <div class="tableWrapper table-row">
                  <table class="table table-hover">
                    <tr>
                      <th>Name</th>
                      <th>E-mail</th>
                      <th>Delete</th>
                    </tr>
                    <tr ng-repeat="user in users | filter : query">
                      <td>{{user.name}}</td>
                      <td>{{user.email}}</td>
                      <td ng-click="deleteUser(user._id)"><span style="color: red;" class="fas fa-user-slash"></span></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
        </div>     
    </div>
</div>
</div>